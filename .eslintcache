[{"C:\\Users\\Brian\\calendario_sisteres\\src\\App.tsx":"1","C:\\Users\\Brian\\calendario_sisteres\\src\\redux\\reducers\\GeneralReducer.ts":"2","C:\\Users\\Brian\\calendario_sisteres\\src\\reportWebVitals.js":"3","C:\\Users\\Brian\\calendario_sisteres\\src\\pages\\Calendar.tsx":"4","C:\\Users\\Brian\\calendario_sisteres\\src\\index.js":"5","C:\\Users\\Brian\\calendario_sisteres\\src\\redux\\store.ts":"6"},{"size":604,"mtime":1606368749481,"results":"7","hashOfConfig":"8"},{"size":203,"mtime":1606360403301,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1606182173315,"results":"10","hashOfConfig":"8"},{"size":3927,"mtime":1606369639677,"results":"11","hashOfConfig":"8"},{"size":500,"mtime":1606182173315,"results":"12","hashOfConfig":"8"},{"size":190,"mtime":1606359322973,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"7lb19o",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Brian\\calendario_sisteres\\src\\App.tsx",[],["30","31"],"C:\\Users\\Brian\\calendario_sisteres\\src\\redux\\reducers\\GeneralReducer.ts",[],"C:\\Users\\Brian\\calendario_sisteres\\src\\reportWebVitals.js",[],["32","33"],"C:\\Users\\Brian\\calendario_sisteres\\src\\pages\\Calendar.tsx",["34","35","36"],"import React from 'react'\r\nimport moment from 'moment'\r\nimport \"moment/locale/pt-br\"\r\nimport \"./Calendar.sass\"\r\nimport {Moment} from \"moment\";\r\nimport {Almoco} from \"../DAOs/AlmocoDAO\";\r\n\r\nconst Calendar = ({app} : {app: Realm.App}) => {\r\n    const weekDays = [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"]\r\n    const wks = [\"1\", \"2\", \"3\", \"4\", \"5\"];\r\n\r\n    const [weeks, setWeeks] = React.useState({1: [], 2: [], 3: [], 4: [], 5: []});\r\n    const [currentMonth, setCurrentMonth] = React.useState(moment(new Date()).add(1, 'month'));\r\n    const [almocos, setAlmocos] = React.useState<any>([])\r\n\r\n    React.useEffect(() => {\r\n        let weeksAux = {...weeks};\r\n        for (let j = 1; j < 6; j++) {\r\n            const week = [];\r\n            let x = moment(new Date()).add(1, 'month').startOf('month').startOf('week').add(j - 1, 'weeks');\r\n            for (let i = 0; i < 7; i++) {\r\n                // @ts-ignore\r\n                week.push(moment(x));\r\n                x.add(1, 'days');\r\n            }\r\n            weeksAux[j+\"\"] = week;\r\n        }\r\n        setWeeks(weeksAux);\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n\r\n        app.currentUser?.callFunction(\"getAlmocos\").then(result => {\r\n            setAlmocos(result)\r\n        });\r\n    }, [])\r\n\r\n    const getAlmocoFromThatDay = (day : Moment, almocos : Array<Almoco>) : Almoco | null => {\r\n        for (let almoco of almocos) {\r\n            if (day.isSame(new Date(almoco.dia), 'day')) {\r\n                return almoco;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Calendário de Almoço</h1>\r\n            <p> Mês de {moment(new Date()).locale('pt-BR').add(1, 'month').format('MMMM')} - <i>Ala Guarany</i></p>\r\n            <table className={'calendar_table'}>\r\n                <thead>\r\n                {weekDays.map((weekday) => (<td key={weekday}>{weekday}</td>))}\r\n                </thead>\r\n                <tbody>\r\n                {wks.map(wk => (\r\n                    <tr>\r\n                        {weeks[wk].map((day: Moment) =>\r\n                            (<td\r\n                                className={day.isSame(currentMonth, 'month') ? '' : 'not_month'}\r\n                                onClick={() => {\r\n                                    let nome = prompt(\"Informe o nome da Família\");\r\n                                    if (nome && nome !== '') {\r\n                                        let telefone = prompt(\"Informe um Telefone para Contato\");\r\n                                        // setAlmocos([...almocos, ])\r\n                                        const almoco = {\r\n                                            nome: nome,\r\n                                            telefone: telefone,\r\n                                            dia: day.add(3, 'hours').toDate()\r\n                                        }\r\n                                        app.currentUser?.callFunction(\"insertAlmoco\", almoco).then(res => {\r\n                                            console.log(\"Adicionado com sucesso\", res);\r\n                                            app.currentUser?.callFunction(\"getAlmocos\").then(res => {\r\n                                                setAlmocos(res)\r\n                                            })\r\n                                        })\r\n\r\n                                    }\r\n                                }}\r\n                                key={day.format('DD/MM')}>\r\n                                {day.format('DD')}\r\n                                <p><b>{getAlmocoFromThatDay(day, almocos)?.nome}</b></p>\r\n                                <p><i>{getAlmocoFromThatDay(day, almocos)?.telefone}</i></p>\r\n                            </td>))}\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nCalendar.propTypes = {}\r\n\r\nexport default Calendar","C:\\Users\\Brian\\calendario_sisteres\\src\\index.js",[],["37","38"],"C:\\Users\\Brian\\calendario_sisteres\\src\\redux\\store.ts",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"39","replacedBy":"43"},{"ruleId":"41","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":13,"column":26,"nodeType":"47","messageId":"48","endLine":13,"endColumn":41},{"ruleId":"49","severity":1,"message":"50","line":29,"column":8,"nodeType":"51","endLine":29,"endColumn":10,"suggestions":"52"},{"ruleId":"49","severity":1,"message":"53","line":36,"column":8,"nodeType":"51","endLine":36,"endColumn":10,"suggestions":"54"},{"ruleId":"39","replacedBy":"55"},{"ruleId":"41","replacedBy":"56"},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],["57"],["58"],"@typescript-eslint/no-unused-vars","'setCurrentMonth' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'weeks'. Either include it or remove the dependency array.","ArrayExpression",["59"],"React Hook React.useEffect has a missing dependency: 'app.currentUser'. Either include it or remove the dependency array.",["60"],["57"],["58"],"no-global-assign","no-unsafe-negation",{"desc":"61","fix":"62"},{"desc":"63","fix":"64"},"Update the dependencies array to be: [weeks]",{"range":"65","text":"66"},"Update the dependencies array to be: [app.currentUser]",{"range":"67","text":"68"},[1110,1112],"[weeks]",[1271,1273],"[app.currentUser]"]